// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py
// RUN: %clang_cc1 -triple kvx-cos -emit-llvm -o - %s | FileCheck %s

typedef double double16 __attribute__ ((__vector_size__ (16 * sizeof(double))));

// CHECK-LABEL: @fn(
// CHECK-NEXT:  entry:
// CHECK-NEXT:    [[A_ADDR:%.*]] = alloca <16 x double>, align 32
// CHECK-NEXT:    [[B_ADDR:%.*]] = alloca <16 x double>, align 32
// CHECK-NEXT:    store <16 x double> [[A:%.*]], ptr [[A_ADDR]], align 32
// CHECK-NEXT:    store <16 x double> [[B:%.*]], ptr [[B_ADDR]], align 32
// CHECK-NEXT:    [[TMP0:%.*]] = load <16 x double>, ptr [[A_ADDR]], align 32
// CHECK-NEXT:    [[TMP1:%.*]] = load <16 x double>, ptr [[B_ADDR]], align 32
// CHECK-NEXT:    [[ADD:%.*]] = fadd <16 x double> [[TMP0]], [[TMP1]]
// CHECK-NEXT:    ret <16 x double> [[ADD]]
//
double16 fn(double16 a, double16 b) {
  return a + b;
}

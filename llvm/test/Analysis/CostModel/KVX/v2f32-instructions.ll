; NOTE: Assertions have been autogenerated by utils/update_analyze_test_checks.py
; RUN: opt -mcpu=kv3-1 -mtriple=kvx-kalray-cos -passes='print<cost-model>' -cost-kind=throughput -disable-output %s 2>&1 | FileCheck %s --check-prefixes=ALL
; RUN: opt -mcpu=kv3-2 -mtriple=kvx-kalray-cos -passes='print<cost-model>' -cost-kind=throughput -disable-output %s 2>&1 | FileCheck %s --check-prefixes=ALL

target triple = "kvx-kalray-cos"

define <2 x float> @test_ret_const() #0 {
; ALL-LABEL: 'test_ret_const'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> <float 1.000000e+00, float 2.000000e+00>
;
  ret <2 x float> <float 1.0, float 2.0>
}

define float @test_extract_0(<2 x float> %a) #0 {
; ALL-LABEL: 'test_extract_0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %e = extractelement <2 x float> %a, i32 0
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret float %e
;
  %e = extractelement <2 x float> %a, i32 0
  ret float %e
}

define float @test_extract_1(<2 x float> %a) #0 {
; ALL-LABEL: 'test_extract_1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %e = extractelement <2 x float> %a, i32 1
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret float %e
;
  %e = extractelement <2 x float> %a, i32 1
  ret float %e
}

define float @test_extract_i(<2 x float> %a, i64 %idx) #0 {
; ALL-LABEL: 'test_extract_i'
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %e = extractelement <2 x float> %a, i64 %idx
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret float %e
;
  %e = extractelement <2 x float> %a, i64 %idx
  ret float %e
}

define <2 x float> @test_fadd(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fadd'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fadd <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fadd <2 x float> %a, %b
  ret <2 x float> %r
}

define <2 x float> @test_fadd_imm_0(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fadd_imm_0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fadd <2 x float> <float 1.000000e+00, float 2.000000e+00>, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fadd <2 x float> <float 1.0, float 2.0>, %a
  ret <2 x float> %r
}

define <2 x float> @test_fadd_imm_1(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fadd_imm_1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fadd <2 x float> %a, <float 1.000000e+00, float 2.000000e+00>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fadd <2 x float> %a, <float 1.0, float 2.0>
  ret <2 x float> %r
}

define <2 x float> @test_fsub(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fsub'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fsub <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fsub <2 x float> %a, %b
  ret <2 x float> %r
}

define <2 x float> @test_fsub_imm(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fsub_imm'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fsub <2 x float> %a, <float 1.000000e+00, float 2.000000e+00>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fsub <2 x float> %a, <float 1.0, float 2.0>
  ret <2 x float> %r
}

define <2 x float> @test_fsub_fromimm(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fsub_fromimm'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fsub <2 x float> <float 1.000000e+00, float 2.000000e+00>, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fsub <2 x float> <float 1.0, float 2.0>, %a
  ret <2 x float> %r
}

define <2 x float> @test_fneg(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fneg'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fsub <2 x float> zeroinitializer, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fsub <2 x float> <float 0.0, float 0.0>, %a
  ret <2 x float> %r
}

define <2 x float> @test_fmul(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fmul'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fmul <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fmul <2 x float> %a, %b
  ret <2 x float> %r
}

define <2 x float> @test_fdiv(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fdiv'
; ALL-NEXT:  Cost Model: Found an estimated cost of 100 for instruction: %r = fdiv <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fdiv <2 x float> %a, %b
  ret <2 x float> %r
}

define <2 x float> @test_frem(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_frem'
; ALL-NEXT:  Cost Model: Found an estimated cost of 100 for instruction: %r = frem <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = frem <2 x float> %a, %b
  ret <2 x float> %r
}

define void @test_ldst_v2f32(<2 x float>* %a, <2 x float>* %b) {
; ALL-LABEL: 'test_ldst_v2f32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %t1 = load <2 x float>, ptr %a, align 8
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: store <2 x float> %t1, ptr %b, align 16
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret void
;
  %t1 = load <2 x float>, <2 x float>* %a
  store <2 x float> %t1, <2 x float>* %b, align 16
  ret void
}

declare <2 x float> @test_callee(<2 x float> %a, <2 x float> %b) #0

define <2 x float> @test_call(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_call'
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %r = call <2 x float> @test_callee(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @test_callee(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_call_flipped(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_call_flipped'
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %r = call <2 x float> @test_callee(<2 x float> %b, <2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @test_callee(<2 x float> %b, <2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_tailcall_flipped(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_tailcall_flipped'
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %r = tail call <2 x float> @test_callee(<2 x float> %b, <2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = tail call <2 x float> @test_callee(<2 x float> %b, <2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_select(<2 x float> %a, <2 x float> %b, i1 zeroext %c) #0 {
; ALL-LABEL: 'test_select'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = select i1 %c, <2 x float> %a, <2 x float> %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = select i1 %c, <2 x float> %a, <2 x float> %b
  ret <2 x float> %r
}

define <2 x float> @test_select_cc(<2 x float> %a, <2 x float> %b, <2 x float> %c, <2 x float> %d) #0 {
; ALL-LABEL: 'test_select_cc'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %cc = fcmp une <2 x float> %c, %d
; ALL-NEXT:  Cost Model: Invalid cost for instruction: %r = select <2 x i1> %cc, <2 x float> %a, <2 x float> %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %cc = fcmp une <2 x float> %c, %d
  %r = select <2 x i1> %cc, <2 x float> %a, <2 x float> %b
  ret <2 x float> %r
}

define <2 x double> @test_select_cc_f32_f32(<2 x double> %a, <2 x double> %b, <2 x float> %c, <2 x float> %d) #0 {
; ALL-LABEL: 'test_select_cc_f32_f32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %cc = fcmp une <2 x float> %c, %d
; ALL-NEXT:  Cost Model: Invalid cost for instruction: %r = select <2 x i1> %cc, <2 x double> %a, <2 x double> %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x double> %r
;
  %cc = fcmp une <2 x float> %c, %d
  %r = select <2 x i1> %cc, <2 x double> %a, <2 x double> %b
  ret <2 x double> %r
}

define <2 x i1> @test_fcmp_une(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_une'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp une <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp une <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ueq(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ueq'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ueq <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ueq <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ugt(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ugt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ugt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ugt <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_uge(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_uge'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp uge <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp uge <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ult(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ult'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ult <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ult <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ule(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ule'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ule <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ule <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_uno(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_uno'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp uno <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp uno <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_one(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_one'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp one <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp one <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_oeq(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_oeq'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp oeq <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp oeq <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ogt(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ogt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ogt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ogt <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_oge(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_oge'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp oge <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp oge <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_olt(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_olt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp olt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp olt <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ole(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ole'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ole <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ole <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i1> @test_fcmp_ord(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_fcmp_ord'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fcmp ord <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i1> %r
;
  %r = fcmp ord <2 x float> %a, %b
  ret <2 x i1> %r
}

define <2 x i32> @test_fptosi_i32(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptosi_i32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptosi <2 x float> %a to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %r
;
  %r = fptosi <2 x float> %a to <2 x i32>
  ret <2 x i32> %r
}

define <2 x i64> @test_fptosi_i64(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptosi_i64'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptosi <2 x float> %a to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i64> %r
;
  %r = fptosi <2 x float> %a to <2 x i64>
  ret <2 x i64> %r
}

define <2 x i32> @test_fptoui_2xi32(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptoui_2xi32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptoui <2 x float> %a to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %r
;
  %r = fptoui <2 x float> %a to <2 x i32>
  ret <2 x i32> %r
}

define <2 x i64> @test_fptoui_2xi64(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptoui_2xi64'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptoui <2 x float> %a to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i64> %r
;
  %r = fptoui <2 x float> %a to <2 x i64>
  ret <2 x i64> %r
}

define <2 x i16> @test_fptosi_i16(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptosi_i16'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptosi <2 x float> %a to <2 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i16> %r
;
  %r = fptosi <2 x float> %a to <2 x i16>
  ret <2 x i16> %r
}

define <2 x i16> @test_fptoui_i16(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptoui_i16'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptoui <2 x float> %a to <2 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i16> %r
;
  %r = fptoui <2 x float> %a to <2 x i16>
  ret <2 x i16> %r
}

define <2 x i8> @test_fptosi_i8(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptosi_i8'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptosi <2 x float> %a to <2 x i8>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i8> %r
;
  %r = fptosi <2 x float> %a to <2 x i8>
  ret <2 x i8> %r
}

define <2 x i8> @test_fptoui_i8(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fptoui_i8'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fptoui <2 x float> %a to <2 x i8>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i8> %r
;
  %r = fptoui <2 x float> %a to <2 x i8>
  ret <2 x i8> %r
}
define <2 x float> @test_uitofp_2xi32(<2 x i32> %a) #0 {
; ALL-LABEL: 'test_uitofp_2xi32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = uitofp <2 x i32> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = uitofp <2 x i32> %a to <2 x float>
  ret <2 x float> %r
}

define <2 x float> @test_uitofp_2xi64(<2 x i64> %a) #0 {
; ALL-LABEL: 'test_uitofp_2xi64'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = uitofp <2 x i64> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = uitofp <2 x i64> %a to <2 x float>
  ret <2 x float> %r
}

define <2 x float> @test_sitofp_2xi32(<2 x i32> %a) #0 {
; ALL-LABEL: 'test_sitofp_2xi32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = sitofp <2 x i32> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = sitofp <2 x i32> %a to <2 x float>
  ret <2 x float> %r
}

define <2 x float> @test_sitofp_2xi64(<2 x i64> %a) #0 {
; ALL-LABEL: 'test_sitofp_2xi64'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = sitofp <2 x i64> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = sitofp <2 x i64> %a to <2 x float>
  ret <2 x float> %r
}

define <2 x float> @test_uitofp_2xi32_fadd(<2 x i32> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_uitofp_2xi32_fadd'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %c = uitofp <2 x i32> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fadd <2 x float> %b, %c
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %c = uitofp <2 x i32> %a to <2 x float>
  %r = fadd <2 x float> %b, %c
  ret <2 x float> %r
}

define <2 x float> @test_sitofp_2xi32_fadd(<2 x i32> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_sitofp_2xi32_fadd'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %c = sitofp <2 x i32> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fadd <2 x float> %b, %c
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %c = sitofp <2 x i32> %a to <2 x float>
  %r = fadd <2 x float> %b, %c
  ret <2 x float> %r
}

define <2 x float> @test_fptrunc_2xdouble(<2 x double> %a) #0 {
; ALL-LABEL: 'test_fptrunc_2xdouble'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %r = fptrunc <2 x double> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = fptrunc <2 x double> %a to <2 x float>
  ret <2 x float> %r
}

define <2 x double> @test_fpext_2xdouble(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fpext_2xdouble'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = fpext <2 x float> %a to <2 x double>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x double> %r
;
  %r = fpext <2 x float> %a to <2 x double>
  ret <2 x double> %r
}

define <2 x i32> @test_bitcast_2xfloat_to_2xi32(<2 x float> %a) #0 {
; ALL-LABEL: 'test_bitcast_2xfloat_to_2xi32'
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %r = bitcast <2 x float> %a to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %r
;
  %r = bitcast <2 x float> %a to <2 x i32>
  ret <2 x i32> %r
}

define <2 x float> @test_bitcast_2xi32_to_2xfloat(<2 x i32> %a) #0 {
; ALL-LABEL: 'test_bitcast_2xi32_to_2xfloat'
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %r = bitcast <2 x i32> %a to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = bitcast <2 x i32> %a to <2 x float>
  ret <2 x float> %r
}

declare <2 x float> @llvm.sqrt.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.powi.v2f32(<2 x float> %a, i32 %b) #0
declare <2 x float> @llvm.sin.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.cos.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.pow.v2f32(<2 x float> %a, <2 x float> %b) #0
declare <2 x float> @llvm.exp.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.exp2.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.log.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.log10.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.log2.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.fma.v2f32(<2 x float> %a, <2 x float> %b, <2 x float> %c) #0
declare <2 x float> @llvm.fabs.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.minnum.v2f32(<2 x float> %a, <2 x float> %b) #0
declare <2 x float> @llvm.maxnum.v2f32(<2 x float> %a, <2 x float> %b) #0
declare <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %b) #0
declare <2 x float> @llvm.floor.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.ceil.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.trunc.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.rint.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.nearbyint.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.round.v2f32(<2 x float> %a) #0
declare <2 x float> @llvm.fmuladd.v2f32(<2 x float> %a, <2 x float> %b, <2 x float> %c) #0

define <2 x float> @test_sqrt(<2 x float> %a) #0 {
; ALL-LABEL: 'test_sqrt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.sqrt.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.sqrt.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_powi(<2 x float> %a, i32 %b) #0 {
; ALL-LABEL: 'test_powi'
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %r = call <2 x float> @llvm.powi.v2f32.i32(<2 x float> %a, i32 %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.powi.v2f32(<2 x float> %a, i32 %b)
  ret <2 x float> %r
}

define <2 x float> @test_sin(<2 x float> %a) #0 {
; ALL-LABEL: 'test_sin'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.sin.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.sin.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_cos(<2 x float> %a) #0 {
; ALL-LABEL: 'test_cos'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.cos.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.cos.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_pow(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_pow'
; ALL-NEXT:  Cost Model: Found an estimated cost of 7 for instruction: %r = call <2 x float> @llvm.pow.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.pow.v2f32(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_exp(<2 x float> %a) #0 {
; ALL-LABEL: 'test_exp'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.exp.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.exp.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_exp2(<2 x float> %a) #0 {
; ALL-LABEL: 'test_exp2'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.exp2.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.exp2.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_log(<2 x float> %a) #0 {
; ALL-LABEL: 'test_log'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.log.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.log.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_log10(<2 x float> %a) #0 {
; ALL-LABEL: 'test_log10'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.log10.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.log10.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_log2(<2 x float> %a) #0 {
; ALL-LABEL: 'test_log2'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.log2.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.log2.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_fma(<2 x float> %a, <2 x float> %b, <2 x float> %c) #0 {
; ALL-LABEL: 'test_fma'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.fma.v2f32(<2 x float> %a, <2 x float> %b, <2 x float> %c)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.fma.v2f32(<2 x float> %a, <2 x float> %b, <2 x float> %c)
  ret <2 x float> %r
}

define <2 x float> @test_fabs(<2 x float> %a) #0 {
; ALL-LABEL: 'test_fabs'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.fabs.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.fabs.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_minnum(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_minnum'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.minnum.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.minnum.v2f32(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_minnum_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_minnum_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call fast <2 x float> @llvm.minnum.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call fast <2 x float> @llvm.minnum.v2f32(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_maxnum(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_maxnum'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.maxnum.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.maxnum.v2f32(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_maxnum_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_maxnum_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call fast <2 x float> @llvm.maxnum.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call fast <2 x float> @llvm.maxnum.v2f32(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_copysign(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_copysign'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %b)
  ret <2 x float> %r
}

define <2 x float> @test_copysign_v2f16(<2 x float> %a, <2 x half> %b) #0 {
; ALL-LABEL: 'test_copysign_v2f16'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %tb = fpext <2 x half> %b to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %tb)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %tb = fpext <2 x half> %b to <2 x float>
  %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %tb)
  ret <2 x float> %r
}

define <2 x float> @test_copysign_v2f64(<2 x double> %b, <2 x float> %a) #0 {
; ALL-LABEL: 'test_copysign_v2f64'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %tb = fptrunc <2 x double> %b to <2 x float>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %tb)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %tb = fptrunc <2 x double> %b to <2 x float>
  %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %tb)
  ret <2 x float> %r
}

define <2 x double> @test_copysign_extended(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'test_copysign_extended'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %b)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %xr = fpext <2 x float> %r to <2 x double>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x double> %xr
;
  %r = call <2 x float> @llvm.copysign.v2f32(<2 x float> %a, <2 x float> %b)
  %xr = fpext <2 x float> %r to <2 x double>
  ret <2 x double> %xr
}

define <2 x float> @test_floor(<2 x float> %a) #0 {
; ALL-LABEL: 'test_floor'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.floor.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.floor.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_ceil(<2 x float> %a) #0 {
; ALL-LABEL: 'test_ceil'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.ceil.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.ceil.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_trunc(<2 x float> %a) #0 {
; ALL-LABEL: 'test_trunc'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.trunc.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.trunc.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_rint(<2 x float> %a) #0 {
; ALL-LABEL: 'test_rint'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.rint.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.rint.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_nearbyint(<2 x float> %a) #0 {
; ALL-LABEL: 'test_nearbyint'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.nearbyint.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.nearbyint.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_round(<2 x float> %a) #0 {
; ALL-LABEL: 'test_round'
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %r = call <2 x float> @llvm.round.v2f32(<2 x float> %a)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.round.v2f32(<2 x float> %a)
  ret <2 x float> %r
}

define <2 x float> @test_fmuladd(<2 x float> %a, <2 x float> %b, <2 x float> %c) #0 {
; ALL-LABEL: 'test_fmuladd'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = call <2 x float> @llvm.fmuladd.v2f32(<2 x float> %a, <2 x float> %b, <2 x float> %c)
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %r = call <2 x float> @llvm.fmuladd.v2f32(<2 x float> %a, <2 x float> %b, <2 x float> %c)
  ret <2 x float> %r
}

define <2 x float> @test_shufflevector(<2 x float> %a) #0 {
; ALL-LABEL: 'test_shufflevector'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %s = shufflevector <2 x float> %a, <2 x float> undef, <2 x i32> <i32 1, i32 0>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %s
;
  %s = shufflevector <2 x float> %a, <2 x float> undef, <2 x i32> <i32 1, i32 0>
  ret <2 x float> %s
}

define <2 x float> @test_insertelement0(<2 x float> %a, float %x) #0 {
; ALL-LABEL: 'test_insertelement0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %i = insertelement <2 x float> %a, float %x, i64 0
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %i
;
  %i = insertelement <2 x float> %a, float %x, i64 0
  ret <2 x float> %i
}

define <2 x float> @test_insertelement1(<2 x float> %a, float %x) #0 {
; ALL-LABEL: 'test_insertelement1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i = insertelement <2 x float> %a, float %x, i64 1
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %i
;
  %i = insertelement <2 x float> %a, float %x, i64 1
  ret <2 x float> %i
}

define <2 x float> @test_insertelement(<2 x float> %a, float %x, i64 %p) #0 {
; ALL-LABEL: 'test_insertelement'
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %i = insertelement <2 x float> %a, float %x, i64 %p
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %i
;
  %i = insertelement <2 x float> %a, float %x, i64 %p
  ret <2 x float> %i
}

define <2 x float> @shuffle_v2float_0_0(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_0_0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> zeroinitializer
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 0>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_0_1(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_0_1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 1>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 1>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_0_2(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_0_2'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 2>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 2>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_0_3(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_0_3'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 3>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 0, i32 3>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_1_0(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_1_0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 0>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 0>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_1_1(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_1_1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 1>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 1>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_1_2(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_1_2'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 2>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 2>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_1_3(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_1_3'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 3>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 1, i32 3>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_2_0(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_2_0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 0>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 0>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_2_1(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_2_1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 1>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 1>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_2_2(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_2_2'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 2>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 2>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_2_3(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_2_3'
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 3>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 2, i32 3>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_3_0(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_3_0'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 0>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 0>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_3_1(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_3_1'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 1>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 1>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_3_2(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_3_2'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 2>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 2>
  ret <2 x float> %2
}

define <2 x float> @shuffle_v2float_3_3(<2 x float> %0, <2 x float> %1) #0 {
; ALL-LABEL: 'shuffle_v2float_3_3'
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 3>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %2
;
entry:
  %2 = shufflevector <2 x float> %0, <2 x float> %1, <2 x i32> <i32 3, i32 3>
  ret <2 x float> %2
}

define <2 x i32> @fcmp_setoeq(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setoeq'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp oeq <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp oeq <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoeq_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setoeq_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp oeq <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp oeq <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setogt(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setogt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ogt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ogt <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setogt_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setogt_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ogt <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ogt <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoge(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setoge'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp oge <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp oge <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoge_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setoge_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp oge <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp oge <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setolt(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setolt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp olt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp olt <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setolt_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setolt_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp olt <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp olt <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setole(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setole'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ole <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ole <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setole_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setole_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ole <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ole <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setone(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setone'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp one <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp one <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setone_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setone_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp one <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp one <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setord(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setord'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ord <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ord <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setord_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setord_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ord <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ord <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuno(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setuno'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp uno <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp uno <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuno_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setuno_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp uno <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp uno <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setueq(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setueq'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ueq <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ueq <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setueq_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setueq_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ueq <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ueq <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setugt(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setugt'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ugt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ugt <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setugt_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setugt_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ugt <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ugt <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuge(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setuge'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp uge <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp uge <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuge_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setuge_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp uge <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp uge <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setult(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setult'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ult <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ult <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setult_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setult_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ult <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ult <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setule(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setule'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ule <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ule <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setule_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setule_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp ule <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp ule <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setune(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setune'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp une <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp une <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setune_single(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setune_single'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp une <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp une <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoeq_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setoeq_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast oeq <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast oeq <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoeq_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setoeq_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast oeq <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast oeq <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setogt_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setogt_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ogt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ogt <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setogt_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setogt_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ogt <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ogt <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoge_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setoge_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast oge <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast oge <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setoge_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setoge_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast oge <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast oge <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setolt_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setolt_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast olt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast olt <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setolt_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setolt_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast olt <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast olt <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setole_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setole_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ole <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ole <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setole_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setole_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ole <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ole <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setone_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setone_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast one <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast one <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setone_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setone_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast one <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast one <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setord_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setord_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ord <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ord <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setord_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setord_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ord <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ord <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuno_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setuno_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast uno <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast uno <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuno_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setuno_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast uno <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast uno <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setueq_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setueq_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ueq <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ueq <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setueq_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setueq_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ueq <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ueq <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setugt_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setugt_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ugt <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ugt <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setugt_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setugt_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ugt <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ugt <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuge_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setuge_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast uge <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast uge <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setuge_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setuge_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast uge <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast uge <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setult_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setult_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ult <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ult <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setult_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setult_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ult <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ult <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setule_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setule_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ule <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ule <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setule_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setule_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast ule <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast ule <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setune_fast(<2 x float> %a, <2 x float> %b) #0 {
; ALL-LABEL: 'fcmp_setune_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast une <2 x float> %a, %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast une <2 x float> %a, %b
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x i32> @fcmp_setune_single_fast(<2 x float> %a) #0 {
; ALL-LABEL: 'fcmp_setune_single_fast'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %0 = fcmp fast une <2 x float> %a, %a
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %1 = sext <2 x i1> %0 to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x i32> %1
;
entry:
  %0 = fcmp fast une <2 x float> %a, %a
  %1 = sext <2 x i1> %0 to <2 x i32>
  ret <2 x i32> %1
}

define <2 x float> @test_select_cmp(<2 x float> %a, <2 x float> %b, <2 x float> %c, <2 x float> %d) #0 {
; ALL-LABEL: 'test_select_cmp'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %cc = fcmp une <2 x float> %c, %d
; ALL-NEXT:  Cost Model: Found an estimated cost of 0 for instruction: %bc = bitcast <2 x i1> %cc to i2
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %cmp = icmp eq i2 %bc, -1
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %r = select i1 %cmp, <2 x float> %a, <2 x float> %b
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret <2 x float> %r
;
  %cc = fcmp une <2 x float> %c, %d
  %bc = bitcast <2 x i1> %cc to i2
  %cmp = icmp eq i2 %bc, -1
  %r = select i1 %cmp, <2 x float> %a, <2 x float> %b
  ret <2 x float> %r
}

attributes #0 = { nounwind }

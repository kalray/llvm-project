; NOTE: Assertions have been autogenerated by utils/update_analyze_test_checks.py
; RUN: opt -mcpu=kv3-1 -mtriple=kvx-kalray-cos -passes='print<cost-model>' -cost-kind=throughput -disable-output %s 2>&1 | FileCheck --check-prefix=ALL %s
; RUN: opt -mcpu=kv3-2 -mtriple=kvx-kalray-cos -passes='print<cost-model>' -cost-kind=throughput -disable-output %s 2>&1 | FileCheck --check-prefix=ALL %s

target triple = "kvx-kalray-cos"

define void @sext() {
; ALL-LABEL: 'sext'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i8toi16 = sext i8 undef to i16
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i8toi32 = sext i8 undef to i32
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i8toi64 = sext i8 undef to i64
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i16toi32 = sext i16 undef to i32
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i16toi64 = sext i16 undef to i64
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i32toi64 = sext i32 undef to i64
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v2i8tov2i16 = sext <2 x i8> undef to <2 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v2i8tov2i32 = sext <2 x i8> undef to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v2i8tov2i64 = sext <2 x i8> undef to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v2i16tov2i32 = sext <2 x i16> undef to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v2i16tov2i64 = sext <2 x i16> undef to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v2i32tov2i64 = sext <2 x i32> undef to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v4i8tov4i16 = sext <4 x i8> undef to <4 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v4i8tov4i32 = sext <4 x i8> undef to <4 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %v4i8tov4i64 = sext <4 x i8> undef to <4 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v4i16tov4i32 = sext <4 x i16> undef to <4 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v4i16tov4i64 = sext <4 x i16> undef to <4 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v4i32tov4i64 = sext <4 x i32> undef to <4 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v8i8tov8i16 = sext <8 x i8> undef to <8 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v8i8tov8i32 = sext <8 x i8> undef to <8 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %v8i8tov8i64 = sext <8 x i8> undef to <8 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v8i16tov8i32 = sext <8 x i16> undef to <8 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %v8i16tov8i64 = sext <8 x i16> undef to <8 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v8i32tov8i64 = sext <8 x i32> undef to <8 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v16i8tov16i16 = sext <16 x i8> undef to <16 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %v16i8tov16i32 = sext <16 x i8> undef to <16 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 7 for instruction: %v16i8tov16i64 = sext <16 x i8> undef to <16 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v16i16tov16i32 = sext <16 x i16> undef to <16 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %v16i16tov16i64 = sext <16 x i16> undef to <16 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %v16i32tov16i64 = sext <16 x i32> undef to <16 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v32i8tov32i16 = sext <32 x i8> undef to <32 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %v32i8tov32i32 = sext <32 x i8> undef to <32 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 14 for instruction: %v32i8tov32i64 = sext <32 x i8> undef to <32 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %v32i16tov32i32 = sext <32 x i16> undef to <32 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 12 for instruction: %v32i16tov32i64 = sext <32 x i16> undef to <32 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 8 for instruction: %v32i32tov32i64 = sext <32 x i32> undef to <32 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret void
;
entry:
  %i8toi16 = sext i8 undef to i16
  %i8toi32 = sext i8 undef to i32
  %i8toi64 = sext i8 undef to i64
  %i16toi32 = sext i16 undef to i32
  %i16toi64 = sext i16 undef to i64
  %i32toi64 = sext i32 undef to i64
  %v2i8tov2i16 = sext <2 x i8> undef to <2 x i16>
  %v2i8tov2i32 = sext <2 x i8> undef to <2 x i32>
  %v2i8tov2i64 = sext <2 x i8> undef to <2 x i64>
  %v2i16tov2i32 = sext <2 x i16> undef to <2 x i32>
  %v2i16tov2i64 = sext <2 x i16> undef to <2 x i64>
  %v2i32tov2i64 = sext <2 x i32> undef to <2 x i64>
  %v4i8tov4i16 = sext <4 x i8> undef to <4 x i16>
  %v4i8tov4i32 = sext <4 x i8> undef to <4 x i32>
  %v4i8tov4i64 = sext <4 x i8> undef to <4 x i64>
  %v4i16tov4i32 = sext <4 x i16> undef to <4 x i32>
  %v4i16tov4i64 = sext <4 x i16> undef to <4 x i64>
  %v4i32tov4i64 = sext <4 x i32> undef to <4 x i64>
  %v8i8tov8i16 = sext <8 x i8> undef to <8 x i16>
  %v8i8tov8i32 = sext <8 x i8> undef to <8 x i32>
  %v8i8tov8i64 = sext <8 x i8> undef to <8 x i64>
  %v8i16tov8i32 = sext <8 x i16> undef to <8 x i32>
  %v8i16tov8i64 = sext <8 x i16> undef to <8 x i64>
  %v8i32tov8i64 = sext <8 x i32> undef to <8 x i64>
  %v16i8tov16i16 = sext <16 x i8> undef to <16 x i16>
  %v16i8tov16i32 = sext <16 x i8> undef to <16 x i32>
  %v16i8tov16i64 = sext <16 x i8> undef to <16 x i64>
  %v16i16tov16i32 = sext <16 x i16> undef to <16 x i32>
  %v16i16tov16i64 = sext <16 x i16> undef to <16 x i64>
  %v16i32tov16i64 = sext <16 x i32> undef to <16 x i64>
  %v32i8tov32i16 = sext <32 x i8> undef to <32 x i16>
  %v32i8tov32i32 = sext <32 x i8> undef to <32 x i32>
  %v32i8tov32i64 = sext <32 x i8> undef to <32 x i64>
  %v32i16tov32i32 = sext <32 x i16> undef to <32 x i32>
  %v32i16tov32i64 = sext <32 x i16> undef to <32 x i64>
  %v32i32tov32i64 = sext <32 x i32> undef to <32 x i64>
  ret void
}

define void @zext() {
; ALL-LABEL: 'zext'
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i8toi16 = zext i8 undef to i16
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i8toi32 = zext i8 undef to i32
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i8toi64 = zext i8 undef to i64
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i16toi32 = zext i16 undef to i32
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i16toi64 = zext i16 undef to i64
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %i32toi64 = zext i32 undef to i64
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v2i8tov2i16 = zext <2 x i8> undef to <2 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v2i8tov2i32 = zext <2 x i8> undef to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v2i8tov2i64 = zext <2 x i8> undef to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v2i16tov2i32 = zext <2 x i16> undef to <2 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v2i16tov2i64 = zext <2 x i16> undef to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v2i32tov2i64 = zext <2 x i32> undef to <2 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v4i8tov4i16 = zext <4 x i8> undef to <4 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v4i8tov4i32 = zext <4 x i8> undef to <4 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %v4i8tov4i64 = zext <4 x i8> undef to <4 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v4i16tov4i32 = zext <4 x i16> undef to <4 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v4i16tov4i64 = zext <4 x i16> undef to <4 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v4i32tov4i64 = zext <4 x i32> undef to <4 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v8i8tov8i16 = zext <8 x i8> undef to <8 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v8i8tov8i32 = zext <8 x i8> undef to <8 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %v8i8tov8i64 = zext <8 x i8> undef to <8 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v8i16tov8i32 = zext <8 x i16> undef to <8 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %v8i16tov8i64 = zext <8 x i16> undef to <8 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v8i32tov8i64 = zext <8 x i32> undef to <8 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: %v16i8tov16i16 = zext <16 x i8> undef to <16 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 3 for instruction: %v16i8tov16i32 = zext <16 x i8> undef to <16 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 7 for instruction: %v16i8tov16i64 = zext <16 x i8> undef to <16 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v16i16tov16i32 = zext <16 x i16> undef to <16 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %v16i16tov16i64 = zext <16 x i16> undef to <16 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %v16i32tov16i64 = zext <16 x i32> undef to <16 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 2 for instruction: %v32i8tov32i16 = zext <32 x i8> undef to <32 x i16>
; ALL-NEXT:  Cost Model: Found an estimated cost of 6 for instruction: %v32i8tov32i32 = zext <32 x i8> undef to <32 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 14 for instruction: %v32i8tov32i64 = zext <32 x i8> undef to <32 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 4 for instruction: %v32i16tov32i32 = zext <32 x i16> undef to <32 x i32>
; ALL-NEXT:  Cost Model: Found an estimated cost of 12 for instruction: %v32i16tov32i64 = zext <32 x i16> undef to <32 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 8 for instruction: %v32i32tov32i64 = zext <32 x i32> undef to <32 x i64>
; ALL-NEXT:  Cost Model: Found an estimated cost of 1 for instruction: ret void
;
entry:
  %i8toi16 = zext i8 undef to i16
  %i8toi32 = zext i8 undef to i32
  %i8toi64 = zext i8 undef to i64
  %i16toi32 = zext i16 undef to i32
  %i16toi64 = zext i16 undef to i64
  %i32toi64 = zext i32 undef to i64
  %v2i8tov2i16 = zext <2 x i8> undef to <2 x i16>
  %v2i8tov2i32 = zext <2 x i8> undef to <2 x i32>
  %v2i8tov2i64 = zext <2 x i8> undef to <2 x i64>
  %v2i16tov2i32 = zext <2 x i16> undef to <2 x i32>
  %v2i16tov2i64 = zext <2 x i16> undef to <2 x i64>
  %v2i32tov2i64 = zext <2 x i32> undef to <2 x i64>
  %v4i8tov4i16 = zext <4 x i8> undef to <4 x i16>
  %v4i8tov4i32 = zext <4 x i8> undef to <4 x i32>
  %v4i8tov4i64 = zext <4 x i8> undef to <4 x i64>
  %v4i16tov4i32 = zext <4 x i16> undef to <4 x i32>
  %v4i16tov4i64 = zext <4 x i16> undef to <4 x i64>
  %v4i32tov4i64 = zext <4 x i32> undef to <4 x i64>
  %v8i8tov8i16 = zext <8 x i8> undef to <8 x i16>
  %v8i8tov8i32 = zext <8 x i8> undef to <8 x i32>
  %v8i8tov8i64 = zext <8 x i8> undef to <8 x i64>
  %v8i16tov8i32 = zext <8 x i16> undef to <8 x i32>
  %v8i16tov8i64 = zext <8 x i16> undef to <8 x i64>
  %v8i32tov8i64 = zext <8 x i32> undef to <8 x i64>
  %v16i8tov16i16 = zext <16 x i8> undef to <16 x i16>
  %v16i8tov16i32 = zext <16 x i8> undef to <16 x i32>
  %v16i8tov16i64 = zext <16 x i8> undef to <16 x i64>
  %v16i16tov16i32 = zext <16 x i16> undef to <16 x i32>
  %v16i16tov16i64 = zext <16 x i16> undef to <16 x i64>
  %v16i32tov16i64 = zext <16 x i32> undef to <16 x i64>
  %v32i8tov32i16 = zext <32 x i8> undef to <32 x i16>
  %v32i8tov32i32 = zext <32 x i8> undef to <32 x i32>
  %v32i8tov32i64 = zext <32 x i8> undef to <32 x i64>
  %v32i16tov32i32 = zext <32 x i16> undef to <32 x i32>
  %v32i16tov32i64 = zext <32 x i16> undef to <32 x i64>
  %v32i32tov32i64 = zext <32 x i32> undef to <32 x i64>
  ret void
}

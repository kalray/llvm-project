; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc -mcpu=kv3-1 -O2 -o - %s | FileCheck %s --check-prefixes=ALL,CV1
; RUN: llc -mcpu=kv3-2 -O2 -o - %s | FileCheck %s --check-prefixes=ALL,CV2

target triple = "kvx-kalray-cos"

define <2 x i8> @srs_v2i8(<2 x i8> %0) {
; CV1-LABEL: srs_v2i8:
; CV1:       # %bb.0:
; CV1-NEXT:    sxlbhq $r0 = $r0
; CV1-NEXT:    extfz $r1 = $r0, 15, 8
; CV1-NEXT:    zxbd $r2 = $r0
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r1 = $r1, 14, 11
; CV1-NEXT:    extfz $r2 = $r2, 14, 11
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r2 = $r1, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxlbhq $r1 = $r2
; CV1-NEXT:    ;;
; CV1-NEXT:    addhq $r0 = $r0, $r1
; CV1-NEXT:    ;;
; CV1-NEXT:    sbmm8 $r0 = $r0, 0x401
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r0 = $r0
; CV1-NEXT:    extfz $r1 = $r0, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r0 = $r0
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r0 = $r0, 4
; CV1-NEXT:    sraw $r1 = $r1, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r1, 15, 8
; CV1-NEXT:    ret
; CV1-NEXT:    ;;
;
; CV2-LABEL: srs_v2i8:
; CV2:       # %bb.0:
; CV2-NEXT:    srsbos $r0 = $r0, 4
; CV2-NEXT:    ret
; CV2-NEXT:    ;;
  %2 = sdiv <2 x i8> %0, <i8 16, i8 16>
  ret <2 x i8> %2
}

define <4 x i8> @srs_v4i8(<4 x i8> %0) {
; CV1-LABEL: srs_v4i8:
; CV1:       # %bb.0:
; CV1-NEXT:    srlw $r1 = $r0, 24
; CV1-NEXT:    extfz $r2 = $r0, 23, 16
; CV1-NEXT:    extfz $r3 = $r0, 15, 8
; CV1-NEXT:    zxbd $r4 = $r0
; CV1-NEXT:    ;;
; CV1-NEXT:    sxlbhq $r0 = $r0
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r1 = $r1, 14, 11
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r2 = $r2, 14, 11
; CV1-NEXT:    extfz $r3 = $r3, 14, 11
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r2 = $r1, 15, 8
; CV1-NEXT:    extfz $r4 = $r4, 14, 11
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r4 = $r3, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r4 = $r2, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    sxlbhq $r1 = $r4
; CV1-NEXT:    ;;
; CV1-NEXT:    addhq $r0 = $r0, $r1
; CV1-NEXT:    ;;
; CV1-NEXT:    sbmm8 $r0 = $r0, 0x40100401
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r0 = $r0
; CV1-NEXT:    srlw $r1 = $r0, 24
; CV1-NEXT:    extfz $r2 = $r0, 23, 16
; CV1-NEXT:    extfz $r3 = $r0, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r0 = $r0
; CV1-NEXT:    sraw $r1 = $r1, 4
; CV1-NEXT:    sraw $r2 = $r2, 4
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r0 = $r0, 4
; CV1-NEXT:    insf $r2 = $r1, 15, 8
; CV1-NEXT:    sraw $r3 = $r3, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r3, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r2, 31, 16
; CV1-NEXT:    ret
; CV1-NEXT:    ;;
;
; CV2-LABEL: srs_v4i8:
; CV2:       # %bb.0:
; CV2-NEXT:    srsbos $r0 = $r0, 4
; CV2-NEXT:    ret
; CV2-NEXT:    ;;
  %2 = sdiv <4 x i8> %0, <i8 16, i8 16, i8 16, i8 16>
  ret <4 x i8> %2
}

define <8 x i8> @srs_v8i8(<8 x i8> %0) {
; CV1-LABEL: srs_v8i8:
; CV1:       # %bb.0:
; CV1-NEXT:    extfz $r1 = $r0, 55, 48
; CV1-NEXT:    srld $r2 = $r0, 56
; CV1-NEXT:    extfz $r3 = $r0, 47, 40
; CV1-NEXT:    srlw $r7 = $r0, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r0, 39, 32
; CV1-NEXT:    extfz $r5 = $r0, 23, 16
; CV1-NEXT:    zxbd $r8 = $r0
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    extfz $r6 = $r0, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r2 = $r2, 7
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r1 = $r1, 7
; CV1-NEXT:    sraw $r3 = $r3, 7
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r4 = $r4, 7
; CV1-NEXT:    sraw $r5 = $r5, 7
; CV1-NEXT:    sraw $r7 = $r7, 7
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r1 = $r2, 15, 8
; CV1-NEXT:    insf $r4 = $r3, 15, 8
; CV1-NEXT:    sraw $r6 = $r6, 7
; CV1-NEXT:    sraw $r8 = $r8, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r5 = $r7, 15, 8
; CV1-NEXT:    insf $r8 = $r6, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    make $r1 = 4
; CV1-NEXT:    insf $r4 = $r1, 31, 16
; CV1-NEXT:    insf $r8 = $r5, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r8 = $r4, 63, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r2 = $r8, 0xff00ff00ff00ff
; CV1-NEXT:    andd $r3 = $r8, 0xff00ff00ff00ff00
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r1 = $r3, $r1
; CV1-NEXT:    srld $r2 = $r2, $r1
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r1 = $r1, 0xff00ff00ff00ff00
; CV1-NEXT:    andd $r2 = $r2, 0xff00ff00ff00ff
; CV1-NEXT:    ;;
; CV1-NEXT:    ord $r1 = $r1, $r2
; CV1-NEXT:    andd $r2 = $r0, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r0 = $r0, $r1
; CV1-NEXT:    andd $r3 = $r1, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r0 = $r0, 0x8080808080808080
; CV1-NEXT:    addd $r1 = $r2, $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r0 = $r1, $r0
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r1 = $r0, 55, 48
; CV1-NEXT:    srld $r2 = $r0, 56
; CV1-NEXT:    extfz $r3 = $r0, 47, 40
; CV1-NEXT:    srlw $r7 = $r0, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r0, 39, 32
; CV1-NEXT:    extfz $r5 = $r0, 23, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r0 = $r0
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    extfz $r6 = $r0, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r2 = $r2, 4
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r1 = $r1, 4
; CV1-NEXT:    sraw $r3 = $r3, 4
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r0 = $r0
; CV1-NEXT:    sraw $r4 = $r4, 4
; CV1-NEXT:    sraw $r5 = $r5, 4
; CV1-NEXT:    sraw $r7 = $r7, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r0 = $r0, 4
; CV1-NEXT:    insf $r1 = $r2, 15, 8
; CV1-NEXT:    insf $r4 = $r3, 15, 8
; CV1-NEXT:    sraw $r6 = $r6, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r6, 15, 8
; CV1-NEXT:    insf $r5 = $r7, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r5, 31, 16
; CV1-NEXT:    insf $r4 = $r1, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r4, 63, 32
; CV1-NEXT:    ret
; CV1-NEXT:    ;;
;
; CV2-LABEL: srs_v8i8:
; CV2:       # %bb.0:
; CV2-NEXT:    srsbos $r0 = $r0, 4
; CV2-NEXT:    ret
; CV2-NEXT:    ;;
  %2 = sdiv <8 x i8> %0, <i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16>
  ret <8 x i8> %2
}

define <2 x i16> @srs_v2i16(<2 x i16> %0) {
; ALL-LABEL: srs_v2i16:
; ALL:       # %bb.0:
; ALL-NEXT:    srshqs $r0 = $r0, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv <2 x i16> %0, <i16 16, i16 16>
  ret <2 x i16> %2
}

define <4 x i16> @srs_v4i16(<4 x i16> %0) {
; ALL-LABEL: srs_v4i16:
; ALL:       # %bb.0:
; ALL-NEXT:    srshqs $r0 = $r0, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv <4 x i16> %0, <i16 16, i16 16, i16 16, i16 16>
  ret <4 x i16> %2
}

define <2 x i32> @srs_v2i32(<2 x i32> %0) {
; ALL-LABEL: srs_v2i32:
; ALL:       # %bb.0:
; ALL-NEXT:    srswps $r0 = $r0, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv <2 x i32> %0, <i32 16, i32 16>
  ret <2 x i32> %2
}

define i32 @srs_i32(i32 %0) {
; ALL-LABEL: srs_i32:
; ALL:       # %bb.0:
; ALL-NEXT:    srsw $r0 = $r0, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv i32 %0, 16
  ret i32 %2
}

define i64 @srs_i64(i64 %0) {
; ALL-LABEL: srs_i64:
; ALL:       # %bb.0:
; ALL-NEXT:    srsd $r0 = $r0, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv i64 %0, 16
  ret i64 %2
}

define <16 x i8> @srs_v16i8(<16 x i8> %0) {
; CV1-LABEL: srs_v16i8:
; CV1:       # %bb.0:
; CV1-NEXT:    extfz $r2 = $r0, 55, 48
; CV1-NEXT:    extfz $r3 = $r0, 47, 40
; CV1-NEXT:    srld $r6 = $r0, 56
; CV1-NEXT:    srlw $r11 = $r0, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r0, 39, 32
; CV1-NEXT:    extfz $r5 = $r0, 23, 16
; CV1-NEXT:    zxbd $r15 = $r0
; CV1-NEXT:    srld $r16 = $r1, 56
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    extfz $r7 = $r0, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sraw $r6 = $r6, 7
; CV1-NEXT:    sxbd $r11 = $r11
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r2 = $r2, 7
; CV1-NEXT:    sraw $r3 = $r3, 7
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r4 = $r4, 7
; CV1-NEXT:    extfz $r8 = $r1, 55, 48
; CV1-NEXT:    sraw $r11 = $r11, 7
; CV1-NEXT:    sxbd $r15 = $r15
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r5 = $r5, 7
; CV1-NEXT:    sraw $r7 = $r7, 7
; CV1-NEXT:    extfz $r9 = $r1, 47, 40
; CV1-NEXT:    extfz $r10 = $r1, 39, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r2 = $r6, 15, 8
; CV1-NEXT:    insf $r4 = $r3, 15, 8
; CV1-NEXT:    sraw $r15 = $r15, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r3 = $r1, 15, 8
; CV1-NEXT:    extfz $r6 = $r1, 23, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r5 = $r11, 15, 8
; CV1-NEXT:    zxbd $r7 = $r1
; CV1-NEXT:    srlw $r11 = $r1, 24
; CV1-NEXT:    insf $r15 = $r7, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    sxbd $r16 = $r16
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    sxbd $r10 = $r10
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    sraw $r8 = $r8, 7
; CV1-NEXT:    sxbd $r11 = $r11
; CV1-NEXT:    sraw $r16 = $r16, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    sraw $r9 = $r9, 7
; CV1-NEXT:    sraw $r10 = $r10, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r4 = $r2, 31, 16
; CV1-NEXT:    sraw $r6 = $r6, 7
; CV1-NEXT:    sraw $r11 = $r11, 7
; CV1-NEXT:    insf $r15 = $r5, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r3 = $r3, 7
; CV1-NEXT:    sraw $r7 = $r7, 7
; CV1-NEXT:    insf $r8 = $r16, 15, 8
; CV1-NEXT:    insf $r10 = $r9, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    make $r2 = 4
; CV1-NEXT:    insf $r6 = $r11, 15, 8
; CV1-NEXT:    insf $r15 = $r4, 63, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r3 = $r15, 0xff00ff00ff00ff
; CV1-NEXT:    andd $r4 = $r15, 0xff00ff00ff00ff00
; CV1-NEXT:    insf $r7 = $r3, 15, 8
; CV1-NEXT:    insf $r10 = $r8, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r3 = $r3, $r2
; CV1-NEXT:    srld $r4 = $r4, $r2
; CV1-NEXT:    insf $r7 = $r6, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r3 = $r3, 0xff00ff00ff00ff
; CV1-NEXT:    andd $r4 = $r4, 0xff00ff00ff00ff00
; CV1-NEXT:    insf $r7 = $r10, 63, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    ord $r3 = $r4, $r3
; CV1-NEXT:    andd $r5 = $r7, 0xff00ff00ff00ff
; CV1-NEXT:    andd $r6 = $r7, 0xff00ff00ff00ff00
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r0 = $r0, $r3
; CV1-NEXT:    srld $r2 = $r6, $r2
; CV1-NEXT:    andd $r4 = $r0, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    srld $r5 = $r5, $r2
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r2 = $r2, 0xff00ff00ff00ff00
; CV1-NEXT:    andd $r5 = $r5, 0xff00ff00ff00ff
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r0 = $r0, 0x8080808080808080
; CV1-NEXT:    ord $r2 = $r2, $r5
; CV1-NEXT:    andd $r5 = $r3, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r1 = $r1, $r2
; CV1-NEXT:    addd $r2 = $r4, $r5
; CV1-NEXT:    andd $r3 = $r1, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    andd $r6 = $r2, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r0 = $r2, $r0
; CV1-NEXT:    andd $r1 = $r1, 0x8080808080808080
; CV1-NEXT:    addd $r3 = $r3, $r6
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r1 = $r3, $r1
; CV1-NEXT:    extfz $r2 = $r0, 55, 48
; CV1-NEXT:    extfz $r3 = $r0, 47, 40
; CV1-NEXT:    srld $r4 = $r0, 56
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r5 = $r0, 39, 32
; CV1-NEXT:    extfz $r6 = $r0, 23, 16
; CV1-NEXT:    srlw $r9 = $r0, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r0 = $r0
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    extfz $r7 = $r0, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r4 = $r4, 4
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r2 = $r2, 4
; CV1-NEXT:    sraw $r3 = $r3, 4
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r0 = $r0
; CV1-NEXT:    sraw $r5 = $r5, 4
; CV1-NEXT:    extfz $r8 = $r1, 55, 48
; CV1-NEXT:    sraw $r9 = $r9, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r6 = $r6, 4
; CV1-NEXT:    sraw $r7 = $r7, 4
; CV1-NEXT:    extfz $r10 = $r1, 47, 40
; CV1-NEXT:    extfz $r11 = $r1, 39, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r0 = $r0, 4
; CV1-NEXT:    insf $r2 = $r4, 15, 8
; CV1-NEXT:    srld $r3 = $r1, 56
; CV1-NEXT:    insf $r5 = $r3, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r1, 23, 16
; CV1-NEXT:    insf $r6 = $r9, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r7, 15, 8
; CV1-NEXT:    zxbd $r1 = $r1
; CV1-NEXT:    srlw $r7 = $r1, 24
; CV1-NEXT:    extfz $r9 = $r1, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r10 = $r10
; CV1-NEXT:    sxbd $r11 = $r11
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r3 = $r3, 4
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    sraw $r8 = $r8, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    sraw $r10 = $r10, 4
; CV1-NEXT:    sraw $r11 = $r11, 4
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r4 = $r4, 4
; CV1-NEXT:    insf $r5 = $r2, 31, 16
; CV1-NEXT:    sraw $r7 = $r7, 4
; CV1-NEXT:    insf $r8 = $r3, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r6, 31, 16
; CV1-NEXT:    sraw $r1 = $r1, 4
; CV1-NEXT:    sraw $r9 = $r9, 4
; CV1-NEXT:    insf $r11 = $r10, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r1 = $r9, 15, 8
; CV1-NEXT:    insf $r4 = $r7, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r5, 63, 32
; CV1-NEXT:    insf $r11 = $r8, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r1 = $r4, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r1 = $r11, 63, 32
; CV1-NEXT:    ret
; CV1-NEXT:    ;;
;
; CV2-LABEL: srs_v16i8:
; CV2:       # %bb.0:
; CV2-NEXT:    srabos $r2 = $r0, 7
; CV2-NEXT:    srabos $r3 = $r1, 7
; CV2-NEXT:    ;;
; CV2-NEXT:    srlbos $r2 = $r2, 4
; CV2-NEXT:    srlbos $r3 = $r3, 4
; CV2-NEXT:    ;;
; CV2-NEXT:    addbo $r0 = $r0, $r2
; CV2-NEXT:    addbo $r1 = $r1, $r3
; CV2-NEXT:    ;;
; CV2-NEXT:    srabos $r0 = $r0, 4
; CV2-NEXT:    srabos $r1 = $r1, 4
; CV2-NEXT:    ret
; CV2-NEXT:    ;;
  %2 = sdiv <16 x i8> %0, <i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16, i8 16>
  ret <16 x i8> %2
}

define <32 x i8> @srs_v32i8(<32 x i8> %0) {
; CV1-LABEL: srs_v32i8:
; CV1:       # %bb.0:
; CV1-NEXT:    extfz $r7 = $r0, 15, 8
; CV1-NEXT:    extfz $r9 = $r0, 55, 48
; CV1-NEXT:    srld $r10 = $r0, 56
; CV1-NEXT:    srlw $r35 = $r0, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r6 = $r0, 23, 16
; CV1-NEXT:    extfz $r15 = $r1, 47, 40
; CV1-NEXT:    srld $r38 = $r1, 56
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r10 = $r10
; CV1-NEXT:    sxbd $r17 = $r9
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    sraw $r10 = $r10, 7
; CV1-NEXT:    extfz $r16 = $r1, 39, 32
; CV1-NEXT:    sraw $r17 = $r17, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r7 = $r7, 7
; CV1-NEXT:    extfz $r9 = $r1, 15, 8
; CV1-NEXT:    sxbd $r35 = $r35
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r0, 47, 40
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r5 = $r0, 39, 32
; CV1-NEXT:    zxbd $r10 = $r0
; CV1-NEXT:    insf $r17 = $r10, 15, 8
; CV1-NEXT:    sraw $r35 = $r35, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r6 = $r6, 7
; CV1-NEXT:    sxbd $r15 = $r15
; CV1-NEXT:    sxbd $r16 = $r16
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    sxbd $r10 = $r10
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r8 = $r1, 23, 16
; CV1-NEXT:    extfz $r11 = $r1, 55, 48
; CV1-NEXT:    sraw $r15 = $r15, 7
; CV1-NEXT:    sraw $r16 = $r16, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sraw $r9 = $r9, 7
; CV1-NEXT:    sraw $r10 = $r10, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r6 = $r35, 15, 8
; CV1-NEXT:    extfz $r32 = $r2, 55, 48
; CV1-NEXT:    srlw $r35 = $r1, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r4 = $r4, 7
; CV1-NEXT:    zxbd $r7 = $r1
; CV1-NEXT:    insf $r10 = $r7, 15, 8
; CV1-NEXT:    extfz $r33 = $r2, 47, 40
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r5 = $r5, 7
; CV1-NEXT:    extfz $r34 = $r2, 39, 32
; CV1-NEXT:    extfz $r36 = $r2, 23, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    extfz $r37 = $r2, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r7 = $r7, 7
; CV1-NEXT:    sxbd $r11 = $r11
; CV1-NEXT:    sxbd $r38 = $r38
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    sxbd $r35 = $r35
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r6 = $r2
; CV1-NEXT:    insf $r10 = $r6, 31, 16
; CV1-NEXT:    srld $r15 = $r2, 56
; CV1-NEXT:    insf $r16 = $r15, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r5 = $r4, 15, 8
; CV1-NEXT:    insf $r7 = $r9, 15, 8
; CV1-NEXT:    srlw $r9 = $r2, 24
; CV1-NEXT:    sraw $r38 = $r38, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r11 = $r11, 7
; CV1-NEXT:    sxbd $r15 = $r15
; CV1-NEXT:    sxbd $r32 = $r32
; CV1-NEXT:    sraw $r35 = $r35, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r8 = $r8, 7
; CV1-NEXT:    sxbd $r33 = $r33
; CV1-NEXT:    sxbd $r34 = $r34
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    sraw $r15 = $r15, 7
; CV1-NEXT:    sraw $r32 = $r32, 7
; CV1-NEXT:    sxbd $r36 = $r36
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    sraw $r33 = $r33, 7
; CV1-NEXT:    sraw $r34 = $r34, 7
; CV1-NEXT:    sxbd $r37 = $r37
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r3, 55, 48
; CV1-NEXT:    sraw $r9 = $r9, 7
; CV1-NEXT:    insf $r11 = $r38, 15, 8
; CV1-NEXT:    sraw $r36 = $r36, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r5 = $r17, 31, 16
; CV1-NEXT:    insf $r8 = $r35, 15, 8
; CV1-NEXT:    srld $r17 = $r3, 56
; CV1-NEXT:    sraw $r37 = $r37, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r6 = $r6, 7
; CV1-NEXT:    extfz $r35 = $r3, 39, 32
; CV1-NEXT:    extfz $r38 = $r3, 47, 40
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sxbd $r17 = $r17
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r32 = $r15, 15, 8
; CV1-NEXT:    insf $r34 = $r33, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r4 = $r4, 7
; CV1-NEXT:    extfz $r15 = $r3, 23, 16
; CV1-NEXT:    sraw $r17 = $r17, 7
; CV1-NEXT:    extfz $r33 = $r3, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r7 = $r8, 31, 16
; CV1-NEXT:    zxbd $r8 = $r3
; CV1-NEXT:    srlw $r11 = $r3, 24
; CV1-NEXT:    insf $r16 = $r11, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    make $r5 = 3
; CV1-NEXT:    insf $r10 = $r5, 63, 32
; CV1-NEXT:    insf $r36 = $r9, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r6 = $r37, 15, 8
; CV1-NEXT:    andd $r9 = $r10, 0xff00ff00ff00ff
; CV1-NEXT:    sxbd $r38 = $r38
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r10 = $r10, 0xff00ff00ff00ff00
; CV1-NEXT:    sxbd $r11 = $r11
; CV1-NEXT:    sxbd $r35 = $r35
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    sxbd $r15 = $r15
; CV1-NEXT:    sraw $r38 = $r38, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r6 = $r36, 31, 16
; CV1-NEXT:    insf $r7 = $r16, 63, 32
; CV1-NEXT:    srld $r9 = $r9, $r5
; CV1-NEXT:    sraw $r35 = $r35, 7
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r10 = $r10, $r5
; CV1-NEXT:    sraw $r11 = $r11, 7
; CV1-NEXT:    sxbd $r33 = $r33
; CV1-NEXT:    insf $r34 = $r32, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r4 = $r17, 15, 8
; CV1-NEXT:    andd $r7 = $r7, 0xff00ff00ff00ff00
; CV1-NEXT:    sraw $r15 = $r15, 7
; CV1-NEXT:    andd $r16 = $r7, 0xff00ff00ff00ff
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r6 = $r34, 63, 32
; CV1-NEXT:    sraw $r8 = $r8, 7
; CV1-NEXT:    sraw $r17 = $r33, 7
; CV1-NEXT:    insf $r35 = $r38, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r7 = $r7, $r5
; CV1-NEXT:    andd $r9 = $r9, 0xff00ff00ff00ff
; CV1-NEXT:    insf $r15 = $r11, 15, 8
; CV1-NEXT:    srld $r16 = $r16, $r5
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r8 = $r17, 15, 8
; CV1-NEXT:    andd $r10 = $r10, 0xff00ff00ff00ff00
; CV1-NEXT:    andd $r11 = $r6, 0xff00ff00ff00ff
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r6 = $r6, 0xff00ff00ff00ff00
; CV1-NEXT:    andd $r16 = $r16, 0xff00ff00ff00ff
; CV1-NEXT:    insf $r35 = $r4, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r4 = $r11, $r5
; CV1-NEXT:    andd $r7 = $r7, 0xff00ff00ff00ff00
; CV1-NEXT:    insf $r8 = $r15, 31, 16
; CV1-NEXT:    andd $r36 = $r3, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r6 = $r6, $r5
; CV1-NEXT:    ord $r7 = $r7, $r16
; CV1-NEXT:    ord $r9 = $r10, $r9
; CV1-NEXT:    andd $r10 = $r0, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r0 = $r0, $r9
; CV1-NEXT:    andd $r4 = $r4, 0xff00ff00ff00ff
; CV1-NEXT:    insf $r8 = $r35, 63, 32
; CV1-NEXT:    andd $r11 = $r9, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r1 = $r1, $r7
; CV1-NEXT:    andd $r6 = $r6, 0xff00ff00ff00ff00
; CV1-NEXT:    andd $r9 = $r1, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r0 = $r0, 0x8080808080808080
; CV1-NEXT:    ord $r4 = $r6, $r4
; CV1-NEXT:    addd $r7 = $r10, $r11
; CV1-NEXT:    andd $r15 = $r7, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r0 = $r7, $r0
; CV1-NEXT:    andd $r6 = $r8, 0xff00ff00ff00ff
; CV1-NEXT:    andd $r8 = $r8, 0xff00ff00ff00ff00
; CV1-NEXT:    addd $r9 = $r9, $r15
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r1 = $r1, 0x8080808080808080
; CV1-NEXT:    xord $r2 = $r2, $r4
; CV1-NEXT:    andd $r7 = $r2, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    srld $r4 = $r6, $r5
; CV1-NEXT:    srld $r5 = $r8, $r5
; CV1-NEXT:    andd $r10 = $r4, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    extfz $r11 = $r0, 23, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r1 = $r9, $r1
; CV1-NEXT:    andd $r4 = $r4, 0xff00ff00ff00ff
; CV1-NEXT:    extfz $r6 = $r0, 55, 48
; CV1-NEXT:    srld $r17 = $r0, 56
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r2 = $r2, 0x8080808080808080
; CV1-NEXT:    andd $r5 = $r5, 0xff00ff00ff00ff00
; CV1-NEXT:    addd $r7 = $r7, $r10
; CV1-NEXT:    sxbd $r11 = $r11
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r2 = $r7, $r2
; CV1-NEXT:    ord $r4 = $r5, $r4
; CV1-NEXT:    srlw $r5 = $r0, 24
; CV1-NEXT:    extfz $r9 = $r0, 47, 40
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r7 = $r1, 47, 40
; CV1-NEXT:    extfz $r10 = $r0, 39, 32
; CV1-NEXT:    sraw $r11 = $r11, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    extfz $r16 = $r1, 39, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r3 = $r3, $r4
; CV1-NEXT:    sxbd $r17 = $r17
; CV1-NEXT:    extfz $r32 = $r1, 23, 16
; CV1-NEXT:    andd $r37 = $r4, 0x7f7f7f7f7f7f7f7f
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r5 = $r5, 5
; CV1-NEXT:    sxbd $r6 = $r6
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    sxbd $r10 = $r10
; CV1-NEXT:    addd $r36 = $r36, $r37
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r6 = $r6, 5
; CV1-NEXT:    insf $r11 = $r5, 15, 8
; CV1-NEXT:    sxbd $r16 = $r16
; CV1-NEXT:    sraw $r17 = $r17, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    srlw $r5 = $r1, 24
; CV1-NEXT:    sraw $r9 = $r9, 5
; CV1-NEXT:    sraw $r10 = $r10, 5
; CV1-NEXT:    sxbd $r32 = $r32
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sraw $r7 = $r7, 5
; CV1-NEXT:    extfz $r8 = $r0, 15, 8
; CV1-NEXT:    sraw $r16 = $r16, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r0 = $r0
; CV1-NEXT:    extfz $r15 = $r1, 55, 48
; CV1-NEXT:    sraw $r32 = $r32, 5
; CV1-NEXT:    extfz $r33 = $r1, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    andd $r3 = $r3, 0x8080808080808080
; CV1-NEXT:    sraw $r5 = $r5, 5
; CV1-NEXT:    extfz $r34 = $r2, 55, 48
; CV1-NEXT:    extfz $r35 = $r2, 47, 40
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r4 = $r2, 39, 32
; CV1-NEXT:    insf $r6 = $r17, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r1 = $r1
; CV1-NEXT:    srld $r9 = $r1, 56
; CV1-NEXT:    insf $r10 = $r9, 15, 8
; CV1-NEXT:    extfz $r17 = $r2, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    xord $r3 = $r36, $r3
; CV1-NEXT:    srld $r7 = $r2, 56
; CV1-NEXT:    insf $r16 = $r7, 15, 8
; CV1-NEXT:    extfz $r38 = $r2, 23, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    zxbd $r2 = $r2
; CV1-NEXT:    srlw $r5 = $r2, 24
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    insf $r32 = $r5, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r0 = $r0
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r15 = $r15
; CV1-NEXT:    sxbd $r33 = $r33
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r0 = $r0, 5
; CV1-NEXT:    sxbd $r1 = $r1
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    sraw $r8 = $r8, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r9 = $r9, 5
; CV1-NEXT:    sraw $r15 = $r15, 5
; CV1-NEXT:    sxbd $r34 = $r34
; CV1-NEXT:    sxbd $r35 = $r35
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r1 = $r1, 5
; CV1-NEXT:    sxbd $r4 = $r4
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sraw $r33 = $r33, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r7 = $r7, 5
; CV1-NEXT:    sxbd $r17 = $r17
; CV1-NEXT:    sraw $r34 = $r34, 5
; CV1-NEXT:    sxbd $r36 = $r38
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r2 = $r2
; CV1-NEXT:    sraw $r4 = $r4, 5
; CV1-NEXT:    sraw $r5 = $r5, 5
; CV1-NEXT:    sraw $r35 = $r35, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r8, 15, 8
; CV1-NEXT:    insf $r1 = $r33, 15, 8
; CV1-NEXT:    sraw $r17 = $r17, 5
; CV1-NEXT:    sraw $r36 = $r36, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r2 = $r2, 5
; CV1-NEXT:    extfz $r8 = $r3, 55, 48
; CV1-NEXT:    insf $r15 = $r9, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r9 = $r3, 47, 40
; CV1-NEXT:    extfz $r33 = $r3, 39, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r4 = $r35, 15, 8
; CV1-NEXT:    srld $r7 = $r3, 56
; CV1-NEXT:    insf $r34 = $r7, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    extfz $r35 = $r3, 23, 16
; CV1-NEXT:    insf $r36 = $r5, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r2 = $r17, 15, 8
; CV1-NEXT:    zxbd $r3 = $r3
; CV1-NEXT:    extfz $r5 = $r3, 15, 8
; CV1-NEXT:    srlw $r17 = $r3, 24
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r7 = $r7
; CV1-NEXT:    sxbd $r8 = $r8
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r9 = $r9
; CV1-NEXT:    sxbd $r33 = $r33
; CV1-NEXT:    ;;
; CV1-NEXT:    sraw $r7 = $r7, 5
; CV1-NEXT:    sraw $r8 = $r8, 5
; CV1-NEXT:    sxbd $r17 = $r17
; CV1-NEXT:    sxbd $r35 = $r35
; CV1-NEXT:    ;;
; CV1-NEXT:    sxbd $r3 = $r3
; CV1-NEXT:    sxbd $r5 = $r5
; CV1-NEXT:    sraw $r9 = $r9, 5
; CV1-NEXT:    sraw $r33 = $r33, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r8 = $r7, 15, 8
; CV1-NEXT:    insf $r10 = $r6, 31, 16
; CV1-NEXT:    sraw $r17 = $r17, 5
; CV1-NEXT:    sraw $r35 = $r35, 5
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r11, 31, 16
; CV1-NEXT:    sraw $r3 = $r3, 5
; CV1-NEXT:    sraw $r5 = $r5, 5
; CV1-NEXT:    insf $r33 = $r9, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r16 = $r15, 31, 16
; CV1-NEXT:    insf $r35 = $r17, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r1 = $r32, 31, 16
; CV1-NEXT:    insf $r3 = $r5, 15, 8
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r2 = $r36, 31, 16
; CV1-NEXT:    insf $r4 = $r34, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r3 = $r35, 31, 16
; CV1-NEXT:    insf $r33 = $r8, 31, 16
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r0 = $r10, 63, 32
; CV1-NEXT:    insf $r1 = $r16, 63, 32
; CV1-NEXT:    ;;
; CV1-NEXT:    insf $r2 = $r4, 63, 32
; CV1-NEXT:    insf $r3 = $r33, 63, 32
; CV1-NEXT:    ret
; CV1-NEXT:    ;;
;
; CV2-LABEL: srs_v32i8:
; CV2:       # %bb.0:
; CV2-NEXT:    srabos $r4 = $r0, 7
; CV2-NEXT:    srabos $r5 = $r1, 7
; CV2-NEXT:    ;;
; CV2-NEXT:    srabos $r6 = $r2, 7
; CV2-NEXT:    srabos $r7 = $r3, 7
; CV2-NEXT:    ;;
; CV2-NEXT:    srlbos $r4 = $r4, 3
; CV2-NEXT:    srlbos $r5 = $r5, 3
; CV2-NEXT:    ;;
; CV2-NEXT:    addbo $r0 = $r0, $r4
; CV2-NEXT:    addbo $r1 = $r1, $r5
; CV2-NEXT:    srlbos $r6 = $r6, 3
; CV2-NEXT:    srlbos $r7 = $r7, 3
; CV2-NEXT:    ;;
; CV2-NEXT:    srabos $r0 = $r0, 5
; CV2-NEXT:    srabos $r1 = $r1, 5
; CV2-NEXT:    addbo $r2 = $r2, $r6
; CV2-NEXT:    addbo $r3 = $r3, $r7
; CV2-NEXT:    ;;
; CV2-NEXT:    srabos $r2 = $r2, 5
; CV2-NEXT:    srabos $r3 = $r3, 5
; CV2-NEXT:    ret
; CV2-NEXT:    ;;
  %2 = sdiv <32 x i8> %0, <i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32, i8 32>
  ret <32 x i8> %2
}

define <8 x i16> @srs_v8i16(<8 x i16> %0) {
; ALL-LABEL: srs_v8i16:
; ALL:       # %bb.0:
; ALL-NEXT:    srahqs $r2 = $r0, 15
; ALL-NEXT:    srahqs $r3 = $r1, 15
; ALL-NEXT:    ;;
; ALL-NEXT:    srlhqs $r2 = $r2, 12
; ALL-NEXT:    srlhqs $r3 = $r3, 12
; ALL-NEXT:    ;;
; ALL-NEXT:    addhq $r0 = $r0, $r2
; ALL-NEXT:    addhq $r1 = $r1, $r3
; ALL-NEXT:    ;;
; ALL-NEXT:    srahqs $r0 = $r0, 4
; ALL-NEXT:    srahqs $r1 = $r1, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv <8 x i16> %0, <i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16>
  ret <8 x i16> %2
}

define <16 x i16> @srs_v16i16(<16 x i16> %0) {
; ALL-LABEL: srs_v16i16:
; ALL:       # %bb.0:
; ALL-NEXT:    srahqs $r4 = $r0, 15
; ALL-NEXT:    srahqs $r5 = $r1, 15
; ALL-NEXT:    ;;
; ALL-NEXT:    srahqs $r6 = $r2, 15
; ALL-NEXT:    srahqs $r7 = $r3, 15
; ALL-NEXT:    ;;
; ALL-NEXT:    srlhqs $r4 = $r4, 12
; ALL-NEXT:    srlhqs $r5 = $r5, 12
; ALL-NEXT:    ;;
; ALL-NEXT:    addhq $r0 = $r0, $r4
; ALL-NEXT:    addhq $r1 = $r1, $r5
; ALL-NEXT:    srlhqs $r6 = $r6, 12
; ALL-NEXT:    srlhqs $r7 = $r7, 12
; ALL-NEXT:    ;;
; ALL-NEXT:    srahqs $r0 = $r0, 4
; ALL-NEXT:    srahqs $r1 = $r1, 4
; ALL-NEXT:    addhq $r2 = $r2, $r6
; ALL-NEXT:    addhq $r3 = $r3, $r7
; ALL-NEXT:    ;;
; ALL-NEXT:    srahqs $r2 = $r2, 4
; ALL-NEXT:    srahqs $r3 = $r3, 4
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv <16 x i16> %0, <i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16, i16 16>
  ret <16 x i16> %2
}

define i32 @srs_i322(i32 %0) {
; ALL-LABEL: srs_i322:
; ALL:       # %bb.0:
; ALL-NEXT:    mulwd $r1 = $r0, 0xe070381d
; ALL-NEXT:    ;;
; ALL-NEXT:    srad $r1 = $r1, 32
; ALL-NEXT:    ;;
; ALL-NEXT:    addw $r0 = $r1, $r0
; ALL-NEXT:    ;;
; ALL-NEXT:    sraw $r0 = $r0, 6
; ALL-NEXT:    srlw $r1 = $r0, 31
; ALL-NEXT:    ;;
; ALL-NEXT:    addw $r0 = $r0, $r1
; ALL-NEXT:    ret
; ALL-NEXT:    ;;
  %2 = sdiv i32 %0, 73
  ret i32 %2
}

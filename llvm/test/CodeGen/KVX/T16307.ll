; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
; RUN: llc < %s -mtriple=kvx-kalray-cos | FileCheck %s

define i32 @dzerol() {
; CHECK-LABEL: dzerol:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    addd $r12 = $r12, -32
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_def_cfa_offset 32
; CHECK-NEXT:    dzerol 27[$r12]
; CHECK-NEXT:    ;;
; CHECK-NEXT:    lwz $r0 = 28[$r12]
; CHECK-NEXT:    addd $r12 = $r12, 32
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
  %retval = alloca i32, align 4
  %b = alloca [1 x i8], align 1
  %arraydecay = getelementptr inbounds [1 x i8], [1 x i8]* %b, i64 0, i64 0
  call void @llvm.kvx.dzerol(i8* %arraydecay)
  %0 = load i32, i32* %retval, align 4
  ret i32 %0
}

define i32 @dinvall() {
; CHECK-LABEL: dinvall:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    addd $r12 = $r12, -32
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_def_cfa_offset 32
; CHECK-NEXT:    dinvall 27[$r12]
; CHECK-NEXT:    ;;
; CHECK-NEXT:    lwz $r0 = 28[$r12]
; CHECK-NEXT:    addd $r12 = $r12, 32
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
%retval = alloca i32, align 4
%b = alloca [1 x i8], align 1
%arraydecay = getelementptr inbounds [1 x i8], [1 x i8]* %b, i64 0, i64 0
call void @llvm.kvx.dinvall(i8* %arraydecay)
%0 = load i32, i32* %retval, align 4
ret i32 %0
}

define i32 @dtouchl() {
; CHECK-LABEL: dtouchl:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    addd $r12 = $r12, -32
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_def_cfa_offset 32
; CHECK-NEXT:    dtouchl 27[$r12]
; CHECK-NEXT:    ;;
; CHECK-NEXT:    lwz $r0 = 28[$r12]
; CHECK-NEXT:    addd $r12 = $r12, 32
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
%retval = alloca i32, align 4
%b = alloca [1 x i8], align 1
%arraydecay = getelementptr inbounds [1 x i8], [1 x i8]* %b, i64 0, i64 0
call void @llvm.kvx.dtouchl(i8* %arraydecay)
%0 = load i32, i32* %retval, align 4
ret i32 %0
}

define i32 @iinvals() {
; CHECK-LABEL: iinvals:
; CHECK:       # %bb.0: # %entry
; CHECK-NEXT:    addd $r12 = $r12, -32
; CHECK-NEXT:    ;;
; CHECK-NEXT:    .cfi_def_cfa_offset 32
; CHECK-NEXT:    iinvals 27[$r12]
; CHECK-NEXT:    ;;
; CHECK-NEXT:    lwz $r0 = 28[$r12]
; CHECK-NEXT:    addd $r12 = $r12, 32
; CHECK-NEXT:    ret
; CHECK-NEXT:    ;;
entry:
%retval = alloca i32, align 4
%b = alloca [1 x i8], align 1
%arraydecay = getelementptr inbounds [1 x i8], [1 x i8]* %b, i64 0, i64 0
call void @llvm.kvx.iinvals(i8* %arraydecay)
%0 = load i32, i32* %retval, align 4
ret i32 %0
}

declare void @llvm.kvx.dzerol(i8*)
declare void @llvm.kvx.dinvall(i8*)
declare void @llvm.kvx.dtouchl(i8*)
declare void @llvm.kvx.iinvals(i8*)
